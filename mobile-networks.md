# 移动网络
截至 2013 年初，全球约有 64 亿个蜂窝网络连接。仅在 2012 年，IDC 市场情报报告显示智能手机，平板电脑，笔记本电脑，个人电脑等智能连接设备的出货量估计为 11 亿美元。更为值得注意的是今后几年的高速增长预测：同一个 IDC报告预测 2016 年新设备出货量将攀升至 18 亿以上，其他报告预测到 2020 年总共超过 200 亿台连接设备。

预计 2012 年人口将达70亿，2020 年将达到 75 亿，这些趋势说明了我们对智能连接设备的需求：显然，我们大多数人不满足只有一个设备。

然而，连接设备的绝对数量只是整个故事的一小部分。高速连接设备无休止的增长暗示着无处不在的连接需要适配所有的新设备。这就是为什么我们必须将话题转移到各种移动电话技术上，例如 GSM，CDMA，HSPA 以及 LTE。很可能的情况是，大多数用户将使用这些技术之一，一些专门用于访问您的网站或服务。需要的投入很多，但是我们必须做到这一点，移动网络肯定会有一系列性能挑战。

# “G” 的历史简述
弄清楚各种各种移动通信技术标准，发布版本以及对应的优缺点，不止会占用这一章，而是整本书。这里，我们的目标很简单，我们需要了解市场上占据主要地位的无线技术，表7-1 中列出里程碑式的版本对应的参数及其影响。

版本|峰值速率|描述
---|-------|---
1G|无法传输数据|模拟系统
2G|Kbit/s|第一个与模拟系统并行的数字系统
3G|Mbit/s|与模拟系统并行部署的专用数字网络
4G|Gbit/s|数字化且只能传输数据包网络

表7-1  各个版本的移动通讯技术


第一个需要理解的是每个无线电的基本标准都以峰值频谱效率（bps / Hz）表示，然后将其转换为便于记忆的数字，例如4G网络的 Gbit/s+ 峰值数据速率。然而，你现在应该认识到前一句话中的关键词：峰值！回顾我们早前关于[测量现实世界无线性能](https://hpbn.co/introduction-to-wireless-networks/#measuring-real-world-wireless-performance)的讨论，峰值数据速率是在理想条件下实现的。

无论标准如何，每个网络的实际性能将由供应商，网络配置，给定单元中的活动用户数，特定位置的无线电环境，正在使用的设备以及所有其他因素影响。考虑到这一点，虽然在现实世界环境中不保证数据速率，但是一个简单但有效的校准性能预期的策略（表7-2）是假设数据吞吐量的下限与延迟的上限。

版本|数据速率|延迟
--|--|--
2G|100-400Kbit/s|300-1000ms
3G|0.5-5Mbit/s|100-500ms
4G|1-50Mbit/s|<100ms

表7-2 活跃网络连接的数据速率和延迟

更复杂的是，任何给定网络的分类如 3G 或 4G 太过粗糙，预期的吞吐量和延迟也只是大致预估。为了理解为什么是这样的情况，以及行业的前进方向在哪里，我们首先需要快速调查不同技术的历史和发展背后的关键角色。

## 第一代数据服务 2G
1G 网络在 1979 年于日本第一次投入商用。它是一个模拟系统，不提供任何数据传输服务。在 1991 年，第一个基于 GSM（全球移动通信系统）2G 网络登陆芬兰，它将数字信号引入了无线电网络，开启第一个电路交换移动数据业务，例如文本消息（SMS），和以 9.6Kbit/s 峰值速率的数据包传递服务！

直到 20 世纪 90 年代中期，当通用分组无线业务（GPRS）首次被引入到GSM标准时，无线因特网的接入开始成为现实，尽管它仍然非常缓慢：使用 GPRS，现在可以达到 172 Kbit/s，典型的往返延迟在高达数百毫秒。GPRS 和早期 2G 语音技术的组合通常被描述为 2.5G。几年后，EDGE（GSM 增强数据速率进化版）增强了这些网络，将峰值数据速率提高到 384 Kbit/s。第一个EDGE 网络（2.75G）于 2003 年在美国推出。

在这一点上，停下脚步进行反思是必要的。无线通信已经有数十年的历史了，但实际的，面向消费者的移动网络数据服务是近来的现象！2.75G 网络只有十年之久，但是也已经在全球广泛应用。然而，我们大多数人现在根本无法想象没有高速无线接入的生活。无线技术的演进和使用率已经不再令人吃惊。

## 3GPP 与 3GPP2 之间的合作
一旦消费者对无线数据业务的需求开始增长，无线电网络的交互性问题成为所有参与者的热点问题。一方面，电信提供商必须购买和部署用于无线电接入网络（RAN）的硬件，这需要投入大量资本并长期维护-标准化硬件意味着降低成本。类似地，没有行业标准，用户将被限制在他们的家庭网络中，限制了移动数据访问的使用场景和便利性。

作为回应，欧洲电信标准研究所（ETSI）在 20 世纪 90 年代初制定了 GSM 标准，许多欧洲国家和全球迅速采用。事实上，GSM 仍旧是部署最广泛的无线标准，据估计，覆盖了市场份额的 80％-85％（图7-1）。但并不是唯一的一个。同时，高通公司开发的 IS-95 标准也占据了 10％-15％ 的市场份额，其中最着名的是许多横跨北美的网络部署。因此，为 IS-95 无线电网络设计的设备不能在 GSM 网络上运行，反之亦然 - 这是许多国际旅客熟悉的糟糕体验。

![7-1](assets/2017-05-31-12-27-12.png)

图 7-1 2003-2007 年之间移动网络的市场份额

1998 年时，由于认识到部署标准的全球演进以及下一代（3G）网络的需求，GSM 和 IS-95 标准组织的参与者组成了两个全球合作项目：

*第三代合作伙伴计划（3GPP）*

负责开发通用移动电信系统（UMTS），这是 GSM 网络的 3G 演进。后来又进行了 GSM 标准的维护和新的 LTE 标准的制定。

*第三代合作伙伴计划2（3GPP2）*
负责开发基于 CDMA2000 技术的 3G 规范，该技术是高通公司开发的 IS-95 标准的后继产品。

因此，两种类型的标准（表7-3）和相关网络基础设施的开发已经同时进行。也许并没有完全步伐一致，但是基本技术大体相似。

---|---|---
版本|组织|发布
2G | 3GPP | GSM
2G | 3GPP2 | IS-95 (cdmaOne)
2.5G, 2.75G | 3GPP | GPRS, EDGE (EGPRS)
2.5G, 2.75G | 3GPP2 | CDMA2000
3G | 3GPP | UMTS
3G | 3GPP2 | CDMA 2000 1x EV-DO Release 0
3.5G, 3.75G, 3.9G | 3GPP | HSPA, HSPA+, LTE
3.5G, 3.75G, 3.9G | 3GPP2 | EV-DO Revision A, EV-DO Revision B, EV-DO Advanced
4G | 3GPP | LTE-Advanced, HSPA+ Revision 11+

表 7-3 3GPP 和 3GPP2 开发的移动网络标准

您很有可能在列表中看到一些熟悉的标签：EV-DO，HSPA，LTE。许多网络运营商已经投入了大量的营销资源，并将继续下去，将这些技术推广为“最新最快的移动数据网络”。然而，我们的兴趣和这种历史绕行的原因不在于营销，而是宏观观察移动无线产业演进：

1. 世界范围内有两种部署完毕，占据主导地位的移动网络类型
2. 3GPP 和 3GPP2 为每种技术的演进做出规划
3. 3GPP 和 3GPP2 标准并不能在不同设备间兼容

并没有 4G 或 3G 技术。国际电信联盟（ITU）为每一代无线技术制定了国际标准和性能特征，例如数据速率和延迟，3GPP 和 3GPP2 组织在其各自技术的背景下满足并超越了这些标准的期望。

**note**
您如何查询运营商使用哪种网络类型？这很简单。你的手机有 SIM 卡吗？如果有的话，那么它是从 GSM 演进而来的 3GPP 技术。要了解有关网络的更多详细信息，请查看运营商的常见问题解答，或者如果手机允许，请直接在手机上查看网络信息。

对于 Android 用户，打开手机拨号屏幕并输入：\*＃\*＃4636＃\*＃\*。如果您的手机允许，它应该打开诊断屏幕，您可以在其中检查移动连接的状态和类型，电池信息等。

## 3G 技术的演化
在 3G 网络的上下文中，我们分别有 3GPP 和 3GPP2 开发的两个主流并相互竞争的标准：UMTS 和基于 CDMA 的网络。然而，如之前的移动网络标准表（表7-3）所示，每个标准也分为几个过渡阶段：3.5G，3.75G 和 3.9G 技术。

为什么我们不能简单地跳到 4G 呢？指定标准需要很长时间，更重要的是，部署新的网络基础架构的成本很高。正如我们看到的那样，相比 3G，4G 需要一个完全不同的无线电接口和并行的基础设施。由于这个原因，并且为了许多购买了 3G 手机的用户的利益，3GPP 和 3GPP2 都不断发展现有的 3G 标准，这也使运营商能够逐步升级其现有网络，使用户有更好的体验。

毫不奇怪的是每个 3G 网络的新版本在吞吐量，延迟和其他性能特征都会有所改善。其实在技术上，LTE 被认为是3.9G的过渡标准！然而，在我们进入LTE之前，让我们仔细看看各种 3GPP 和3GPP2 发展过程中的里程碑。

## 3GPP 技术演进

Release|Date|Summary
---|---|
99|1999|第一版 UMTS 标准
4|2001|引入全IP核心网
5|2002|引入高速下行分组接入(HSDPA)
6|2004|引入高速上行分组接入(HSUPA)
7|2007|引入增强型高速分组接入(HSPA+)
8|2008|引入新的增强型 LTE 系统架构(SAE)
9|2009|Improvements to SAE and WiMAX interoperability
10|2010|引入 4G 高级 LTE 架构

表 7-4 3GPP 发布历史

在遵循 3GPP 标准的情况下，HSDPA 和 HSUPA 版本的组合通常被称为高速分组接入网络（HSPA）。这两个版本的组合在现实世界中实现了低位的单位数 Mbit/s 吞吐量，这从早期的 3G 速度迈出了重要的一步。HSPA 网络通常被标记为3.5G。

这之后的下一个升级是 HSPA+ (3.75G)。在实际的部署中，由于核心网络架构的简化，显著降低了网络延迟并达到了 Mbit/s 的传输速率。然而正如我们看到的那样，引入 HSPA+ 的第七个发布版本并不是科技发展的终点。实际上，HSPA+ 标准在不不断改进，现在正与 LTE 和 LTE-advanced 正面交锋。

